-- Auto-dungeon function
local function AutoDungeon()
    while G.AutoDungeon do
        -- Get the current time
        local currentTime = os.time()

        -- Calculate the time for the next dungeon teleport (15 seconds before each 30 minutes)
        local nextTeleportTime = math.ceil(currentTime / (30 * 60)) * (30 * 60) - 15

        -- Calculate the wait time until the next dungeon teleport
        local waitTime = nextTeleportTime - currentTime

        -- Wait until the next dungeon teleport time
        wait(waitTime)

        -- Wait until the dungeon teleport option starts
        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("LocalPlayerTeleport"):FireServer({
            ["mapId"] = 50016
        })
        wait(15)  -- Wait 15 seconds before teleporting

        -- Teleport to each position in a continuous loop of 1 second
        local loopStartTime = os.time()
        while os.time() - loopStartTime < duration do  -- Loop for 15 minutes
            local position = positions[index]
            game.Players.LocalPlayer.Character:MoveTo(position)  -- Teleport to the specified position
            index = (index % #positions) + 1  -- Move to the next position
            wait(1)  -- Wait 1 second before teleporting to the next position
        end

        -- Wait for 15 seconds before starting the loop again
        wait(15)
    end

    -- Wait for 60 seconds before restarting the raid
    wait(60)

    -- Restart the dungeon
    AutoDungeon()
end

-- Start the dungeon
AutoDungeon()
